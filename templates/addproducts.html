{% extends 'layout.html' %}
{% block title %}
<title>Products</title>
{% endblock %}


{% block layout %}


<div class="pro-container">
    <h1>Aggiungi un nuovo prodotto al tuo e-commerce</h1>
    <form  method="post" enctype="multipart/form-data">
        <div>
          <div>
              {{ form.name.label  }}
               {{ form.name(class='form-control') }}

            {% for error in form.name.errors %}
              <div role="alert">

                {{ error }}
              </div>
              {% endfor  %}

          </div>
        </div>

        <div>
          <div>
            {{ form.category.label  }}
              {{ form.category(class='form-control') }}
               {% for error in form.category.errors %}
              <p role="alert">

                {{ error }}
            </p>
              {% endfor  %}
          </div>
        </div>


       <div>
          <div>
            {{ form.description.label  }}
              {{ form.description(class='form-control') }}
               {% for error in form.description.errors %}
              <p role="alert">

                {{ error }}
            </p>
              {% endfor  %}
          </div>
        </div>
        <div>
            <div>
              {{ form.price.label  }}
                {{ form.price(class='form-control') }}
                 {% for error in form.price.errors %}
                <p role="alert">
  
                  {{ error }}
              </p>
                {% endfor  %}
            </div>
        </div>
        
        <div>
            <div>
              {{ form.quantity.label  }}
                {{ form.quantity(class='form-control') }}
                 {% for error in form.quantity.errors %}
                <p role="alert">
  
                  {{ error }}
              </p>
                {% endfor  %}
            </div>
        </div>


        <div>
          <div>
            {{ form.prod_picture.label  }}
              {{ form.prod_picture(class='form-control') }}
               {% for error in form.prod_picture.errors %}
              <p role="alert">

                {{ error }}
            </p>
              {% endfor  %}
          </div>
        </div>

        <div>
          <div>
            {{ form.availability.label  }}
              {{ form.availability(class='form-control') }}
               {% for error in form.availability.errors %}
              <p role="alert">

                {{ error }}
            </p>
              {% endfor  %}
          </div>
        </div>
       <!-- For success/fail messages -->
      {{ form.hidden_tag() }}
          {{ form.submit(class='btn btn-primary') }}
      </form>

</div>

<h1>Lista dei prodotti disponibili</h1>
<div class="pro-container"> 
  {% for product in product_list %}  
  <div class="col-6">
    <div class="pro-item">
      <h1>{{product.name}}</h1>
      <img src="{{product.img_path}}" alt="image not" width="200px" height="200px">
      <h2>{{product.description}}</h2>
      <h3>{{product.price}} â‚¬</h3>
      <form>
        <button class="button-red" type="submit" formaction="/deleteproduct/{{product.id}}">Delete</button>
        <button class="button-green" type="submit" formaction="/upgradeproduct/{{product.id}}">Upgrade</button>
     </form>
    </div>
  </div>  
  {% endfor %} 
</div>   

{% endblock %}

